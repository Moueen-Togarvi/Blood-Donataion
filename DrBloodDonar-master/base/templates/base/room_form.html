{% extends 'main.html' %}
{% block content %}
<main class="container">
  <div class="auth-box">
    <div class="card">
      <div class="card__header"
        style="justify-content: center; flex-direction: column; align-items: center; border-bottom: 1px solid var(--color-border); padding-bottom: 1.5rem; margin-bottom: 2rem;">
        <h3 style="font-size: 2rem; font-weight: 700; color: var(--color-text-main);">Create Request</h3>
        <p style="color: var(--color-text-muted);">Fill in the details to request blood donation.</p>
      </div>

      <form class="form" action="" method="POST">
        {% csrf_token %}

        <div class="form-group">
          <label for="room_topic" class="form-label">Blood Group</label>
          <input required type="text" value="{{room.topic.name}}" name="topic" list="topic-list" class="form-input"
            placeholder="Select or type blood group (e.g. A+)" />
          <datalist id="topic-list">
            <select id="room_topic">
              {% for topic in topics %}
              <option value="{{topic.name}}">{{topic.name}}</option>
              {% endfor %}
            </select>
          </datalist>
        </div>

        <div class="form-group">
          <label for="room_name" class="form-label">Request Title</label>
          {{form.name}}
        </div>

        <div class="form-group">
          <label for="room_description" class="form-label">Description (Location, Patient Name, Urgency)</label>
          {{form.description}}
        </div>

        <div class="form__action" style="display: flex; gap: 1rem; margin-top: 2rem;">
          <a class="btn btn--secondary" href="{{request.META.HTTP_REFERER}}" style="flex: 1;">Cancel</a>
          <button class="btn btn--primary" type="submit" style="flex: 1;">Submit Request</button>
        </div>
      </form>
    </div>
  </div>
</main>
{% endblock content %}