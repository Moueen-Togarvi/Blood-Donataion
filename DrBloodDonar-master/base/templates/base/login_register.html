{% extends 'main.html' %}
{% block content %}
<main class="container">
  <div class="auth-box">
    <div class="card">

      {% if page == 'login' %}
      <!-- Login Page -->
      <div class="card__header"
        style="justify-content: center; flex-direction: column; align-items: center; border-bottom: 1px solid var(--color-border); padding-bottom: 1.5rem; margin-bottom: 2rem;">
        <h3 style="font-size: 2rem; font-weight: 700; color: var(--color-text-main);">Welcome Back</h3>
        <p style="color: var(--color-text-muted);">Login to manage your donor profile.</p>
      </div>

      <form class="form" action="" method="POST">
        {% csrf_token %}
        <div class="form-group">
          <label for="username" class="form-label">Email</label>
          <input id="username" class="form-input" name="email" type="email" placeholder="e.g. user@email.com" />
        </div>
        <div class="form-group">
          <label for="password" class="form-label">Password</label>
          <input id="password" class="form-input" name="password" type="password" placeholder="••••••••" />
        </div>

        <button class="btn btn--primary" type="submit" style="width: 100%; margin-top: 1rem;">Login</button>
      </form>

      <div style="text-align: center; margin-top: 2rem; font-size: 1.4rem;">
        <p style="color: var(--color-text-muted);">Don't have an account?</p>
        <a href="{% url 'register' %}" style="color: var(--color-primary); font-weight: 600;">Register as Donor</a>
      </div>

      {% else %}
      <!-- Register Page -->
      <div class="card__header"
        style="justify-content: center; flex-direction: column; align-items: center; border-bottom: 1px solid var(--color-border); padding-bottom: 1.5rem; margin-bottom: 2rem;">
        <h3 style="font-size: 2rem; font-weight: 700; color: var(--color-text-main);">Register as Donor</h3>
        <p style="color: var(--color-text-muted);">Join the community to save lives.</p>
      </div>

      <form class="form" action="" method="POST">
        {% csrf_token %}

        {% for field in form %}
        <div class="form-group">
          <label for="{{field.id_for_label}}" class="form-label">{{field.label}}</label>
          {{field}}
          {% if field.help_text %}
          <small
            style="color: var(--color-text-muted); display: block; margin-top: 0.25rem;">{{field.help_text}}</small>
          {% endif %}
        </div>
        {% endfor %}

        <button class="btn btn--primary" type="submit" style="width: 100%; margin-top: 1rem;">Register</button>
      </form>

      <div style="text-align: center; margin-top: 2rem; font-size: 1.4rem;">
        <p style="color: var(--color-text-muted);">Already have an account?</p>
        <a href="{% url 'login' %}" style="color: var(--color-primary); font-weight: 600;">Login</a>
      </div>
      {% endif %}

    </div>
  </div>
</main>
{% endblock content %}