{% load static %}
<nav class="navbar">
    <div class="container navbar__container">
        <a href="{% url 'home' %}" class="navbar__logo" style="gap: 0.5rem;">
            <img src="{% static 'images/logo.png' %}" alt="Logo" style="height: 2.8rem;">
            <span class="mbl-hide">Dr Blood Donar</span>
        </a>

        <div class="navbar__actions" style="gap: 0.8rem;">
            {% if request.user.is_authenticated %}
            <!-- Small Logout -->
            <a href="{% url 'logout' %}" class="btn btn--primary btn--mini"
                style="background-color: #64748b; font-size: 1rem; padding: 0.4rem 0.8rem;">Logout</a>

            <a href="{% url 'user-profile' request.user.id %}" class="avatar-link" title="Profile">
                <img src="{% static 'images/avatar.svg' %}" alt="User Avatar" class="avatar"
                    style="width: 2.8rem; height: 2.8rem;">
            </a>
            {% else %}
            <a href="{% url 'login' %}" class="btn btn--text btn--mini" style="font-size: 1.1rem;">Login</a>
            <a href="{% url 'register' %}" class="btn btn--primary btn--mini"
                style="font-size: 1rem; padding: 0.5rem 1rem;">Become Donor</a>
            {% endif %}

            <!-- Simple Toggle -->
            <button class="mbl-toggle" onclick="toggleMenu()"
                style="display: flex; align-items: center; justify-content: center; width: 3.2rem; height: 3.2rem; background: #f1f5f9; border-radius: 0.8rem;">
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                        d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
                </svg>
            </button>
        </div>
    </div>

    <!-- Simple Collapsible Menu (Inside Navbar) -->
    <div id="mblMenu"
        style="display: none; padding: 1.5rem; background: white; border-top: 1px solid #e2e8f0; flex-direction: column; gap: 1rem;">
        <a href="{% url 'home' %}"
            style="font-size: 1.5rem; font-weight: 700; color: var(--color-text-main); padding: 0.5rem 1rem; border-radius: 0.5rem;">Home</a>
        {% if request.user.is_authenticated %}
        <a href="{% url 'user-profile' request.user.id %}"
            style="font-size: 1.5rem; font-weight: 700; color: var(--color-text-main); padding: 0.5rem 1rem; border-radius: 0.5rem;">My
            Profile</a>
        <a href="{% url 'update-user' %}"
            style="font-size: 1.5rem; font-weight: 700; color: var(--color-text-main); padding: 0.5rem 1rem; border-radius: 0.5rem;">Edit
            Profile</a>
        <hr style="border: 0; border-top: 1px solid #f1f5f9;">
        <a href="{% url 'logout' %}"
            style="font-size: 1.5rem; font-weight: 700; color: var(--color-primary); padding: 0.5rem 1rem; border-radius: 0.5rem;">Logout</a>
        {% else %}
        <a href="{% url 'login' %}"
            style="font-size: 1.5rem; font-weight: 700; color: var(--color-text-main); padding: 0.5rem 1rem; border-radius: 0.5rem;">Login</a>
        <a href="{% url 'register' %}"
            style="font-size: 1.5rem; font-weight: 700; color: var(--color-primary); padding: 0.5rem 1rem; border-radius: 0.5rem;">Become
            a Donor</a>
        {% endif %}
    </div>
</nav>



<script>
    function toggleMenu() {
        const menu = document.getElementById('mblMenu');
        if (menu.style.display === 'flex') {
            menu.style.display = 'none';
        } else {
            menu.style.display = 'flex';
        }
    }
</script>