{% extends 'main.html' %}

{% block content %}
<main class="container">
  <!-- Hero Section -->
  <!-- Hero Section -->
  <section class="hero">
    <h1>Find Blood Donors in <span
        style="color: var(--color-primary); text-decoration: underline; text-decoration-color: rgba(255,255,255,0.3);">Bahawalnagar</span>.
    </h1>
  </section>

  <div class="layout-grid">
    <!-- Sidebar: Filters -->
    <aside class="filter-section">
      {% include 'base/topics_component.html' %}
    </aside>

    <!-- Main Feed -->
    <div class="feed-section">
      <div class="card__header" style="margin-bottom: 2rem; text-align: center; justify-content: center;">
        <div style="width: 100%;">
          <h2 style="font-size: 2.4rem; font-weight: 700; color: var(--color-text-main); margin-bottom: 0.5rem;">
            Available Donors</h2>
          <p style="color: var(--color-text-muted); font-size: 1.4rem;">{{donor_count}} donors found</p>
        </div>
      </div>

      {% include 'base/feed_component.html' %}

      <!-- Pagination -->
      {% if donors.has_other_pages %}
      <div class="pagination"
        style="display: flex; justify-content: center; align-items: center; gap: 1rem; margin-top: 4rem;">
        {% if donors.has_previous %}
        <a href="?page={{ donors.previous_page_number }}{% if request.GET.q %}&q={{ request.GET.q|urlencode }}{% endif %}"
          class="btn btn--secondary"
          style="padding: 0.8rem 1.6rem; text-decoration: none; border-radius: 0.8rem; font-size: 1.4rem; font-weight: 600;">&laquo;
          Prev</a>
        {% else %}
        <span class="btn btn--secondary"
          style="padding: 0.8rem 1.6rem; border-radius: 0.8rem; opacity: 0.5; cursor: not-allowed; font-size: 1.4rem; font-weight: 600;">&laquo;
          Prev</span>
        {% endif %}

        <span
          style="font-size: 1.4rem; font-weight: 700; color: var(--color-text-main); background: #f8fafc; padding: 0.8rem 1.6rem; border-radius: 0.8rem; border: 1px solid #e2e8f0;">
          Page {{ donors.number }} of {{ donors.paginator.num_pages }}
        </span>

        {% if donors.has_next %}
        <a href="?page={{ donors.next_page_number }}{% if request.GET.q %}&q={{ request.GET.q|urlencode }}{% endif %}"
          class="btn btn--secondary"
          style="padding: 0.8rem 1.6rem; text-decoration: none; border-radius: 0.8rem; font-size: 1.4rem; font-weight: 600;">Next
          &raquo;</a>
        {% else %}
        <span class="btn btn--secondary"
          style="padding: 0.8rem 1.6rem; border-radius: 0.8rem; opacity: 0.5; cursor: not-allowed; font-size: 1.4rem; font-weight: 600;">Next
          &raquo;</span>
        {% endif %}
      </div>
      {% endif %}

    </div>
  </div>
</main>
{% endblock %}